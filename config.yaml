# Configura√ß√µes do Agente de Trading com RL + LLM

# Modo de Execu√ß√£o
mode: "testnet"  # Op√ß√µes: "paper" (local), "testnet" (simula√ß√£o), "live" (real)

# Dados
data:
  symbol: "BTC/USDT"
  timeframe: "15m"
  limit: 1500  # M√°ximo permitido pela Binance por request (mais dados = melhor aprendizado)
  exchange: "binance"
  
# Ambiente de Trading
environment:
  initial_balance: 10000  # USDT
  commission: 0.001  # 0.1% (Binance Futures maker/taker realista)
  slippage: 0.0005  # 0.05% slippage m√©dio em alta liquidez
  leverage: 3  # Alavancagem m√°xima
  position_size: 0.1  # 10% do saldo por trade
  window_size: 50  # Janela de observa√ß√£o
  
# Indicadores T√©cnicos
indicators:
  - name: "rsi"
    length: 14
  - name: "sma"
    length: 20
  - name: "sma"
    length: 50
  - name: "bbands"
    length: 20
    std: 2
  - name: "macd"
    fast: 12
    slow: 26
    signal: 9

# üÜï Ensemble de Modelos RL
ensemble:
  enabled: true
  algorithms: ["ppo", "td3"]  # SAC tem problemas com DirectML no Windows
  strategy: "weighted"  # majority, weighted, confidence, best, average
  weights:  # Pesos para strategy='weighted'
    ppo: 0.50
    td3: 0.50
    
# Treinamento RL (para cada modelo)
training:
  algorithm: "PPO"  # Usado quando rodar single model
  total_timesteps: 2000000  # 2M timesteps para modelos PROFISSIONAIS (3-5h)
  learning_rate: 0.0003
  n_steps: 2048
  batch_size: 64
  n_epochs: 10
  gamma: 0.99
  gae_lambda: 0.95
  clip_range: 0.2
  ent_coef: 0.01

# üÜï An√°lise de Sentimento com LLM
sentiment:
  enabled: true
  
  # Coleta de Not√≠cias
  news:
    sources:
      - newsapi  # Requer NEWSAPI_KEY no .env
      - rss  # Feeds RSS gratuitos
    keywords:
      - "bitcoin"
      - "BTC"
      - "cryptocurrency"
      - "crypto market"
      - "blockchain"
    rss_feeds:
      - "https://cointelegraph.com/rss"
      - "https://www.coindesk.com/arc/outboundfeeds/rss/"
      - "https://cryptonews.com/news/feed/"
      - "https://decrypt.co/feed"
    update_interval: 3600  # Atualiza a cada 1h
    history_hours: 24  # Mant√©m √∫ltimas 24h
  
  # An√°lise com LLM
  llm:
    provider: "openai"  # openai, anthropic, ou local
    model: "gpt-3.5-turbo"  # ou gpt-4, claude-3-opus, etc
    temperature: 0.3  # Baixo = mais determin√≠stico
    fallback: "local"  # Usa FinBERT se API falhar
    # api_key via .env: OPENAI_API_KEY ou ANTHROPIC_API_KEY
  
  # Processamento
  processor:
    lookback_hours: [1, 6, 24]  # Janelas temporais
    decay_factor: 0.95  # Peso temporal (mais recente = maior)
    min_confidence: 0.5  # Ignora an√°lises com confian√ßa < 50%
  
# Gest√£o de Risco
risk_management:
  max_leverage: 3
  stop_loss_pct: 0.02  # 2%
  take_profit_pct: 0.04  # 4%
  max_drawdown: 0.15  # 15%
  kelly_fraction: 0.25  # Fra√ß√£o do Kelly Criterion
  
# Execu√ß√£o
execution:
  mode: "paper"  # paper ou live
  check_interval: 60  # segundos
  use_ensemble: true  # Usa ensemble ou modelo √∫nico
  model_path: "models/ensemble"  # Diret√≥rio dos modelos
  
# API Binance (usar .env para chaves sens√≠veis)
binance:
  testnet: true
  # BINANCE_API_KEY e BINANCE_SECRET_KEY no .env

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  save_trades: true
  save_sentiment: true
